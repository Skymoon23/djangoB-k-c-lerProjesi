{% load static %}
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Bölüm Başkanı Paneli{% endblock %}</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

  <style>
    body { background: #f5f7fb; min-height: 100vh; }

    .layout {
      display: grid;
      grid-template-columns: 260px 1fr;
      min-height: 100vh;
    }

    .sidebar {
      background: #0b2a4a;
      color: #fff;
      padding: 18px 12px;
      position: relative;
    }

    .sidebar .brand {
      font-weight: 800;
      margin-bottom: 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .sidebar .brand a {
      color: #fff;
      text-decoration: none;
    }

    .sidebar .nav-link {
      color: rgba(255,255,255,.85);
      border-radius: 10px;
      padding: 10px 12px;
      margin-bottom: 4px;
      text-decoration: none;
      display: block;
      position: relative;
    }

    .sidebar .nav-link:hover {
      background: rgba(255,255,255,.12);
      color: #fff;
    }

    .sidebar .nav-link.active {
      background: rgba(255,255,255,.20);
      color: #fff;
    }

    /* ===== ÇIKTI YÖNETİMİ CLICK SUBMENU ===== */
    .pc-submenu {
      position: relative;
    }

    .pc-submenu-panel {
      display: none;
      position: absolute;
      top: 0;
      left: 100%;
      margin-left: 10px;
      min-width: 230px;
      background: #0b2a4a;
      border-radius: 12px;
      padding: 8px;
      box-shadow: 0 10px 25px rgba(0,0,0,.25);
      z-index: 9999;
    }

    .pc-submenu.open .pc-submenu-panel {
      display: block;
    }

    .pc-caret {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      opacity: .8;
    }

    .content {
      padding: 22px;
    }

    hr {
      border-color: rgba(255,255,255,.18);
    }
  </style>

  {% block extra_head %}{% endblock %}
</head>

<body>
<div class="layout">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="brand">
      <a href="{% url 'department_head_dashboard' %}">ALMS – Head Panel</a>
      <form method="POST" action="{% url 'logout' %}" style="margin:0;">
        {% csrf_token %}
        <button type="submit" class="btn btn-sm btn-outline-light">Çıkış</button>
      </form>
    </div>

    {% include "headteacher/partials/sidebar.html" %}
  </aside>

  <!-- CONTENT -->
  <main class="content">
    {% block content %}{% endblock %}
  </main>

</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const toggle = document.getElementById("toggleOutcomes");
  const wrapper = toggle.closest(".pc-submenu");

  toggle.addEventListener("click", function (e) {
    e.preventDefault();
    wrapper.classList.toggle("open");
  });

  document.addEventListener("click", function (e) {
    if (!wrapper.contains(e.target)) {
      wrapper.classList.remove("open");
    }
  });
});
</script>

{% block extra_js %}{% endblock %}
</body>
</html>
